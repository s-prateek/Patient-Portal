<div class="patient-registration-container">
  <h3 class="first">Patient Registration</h3>
  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">Name*</span>
        <input [(ngModel)]="patientName" type="text" pInputText placeholder="Enter Name">
      </div>
    </div>

    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">Surname*</span>
        <input [(ngModel)]="patientSurName" type="text" pInputText placeholder="Enter Surname">
      </div>
    </div>
  </div>

  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">Birth Date*</span>
        <p-calendar [(ngModel)]="selectedDOB" placeholder="Enter Date of Birth" [minDate]="todaysDate" [maxDate]="hunderdYearFromToday"></p-calendar>
      </div>
    </div>

    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">Gender*</span>
        <p-dropdown [options]="genderList" [(ngModel)]="selectedGender" optionLabel="name" placeholder="Select Gender">
        </p-dropdown>
      </div>
    </div>
  </div>

  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">State*</span>
        <p-dropdown [options]="stateList" [(ngModel)]="selectedState" optionLabel="name" placeholder="Select State" (onChange)="filterCities()"></p-dropdown>
      </div>
    </div>

    <div class="ui-g-12 ui-md-6">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon">City*</span>
        <p-dropdown [options]="cityListToDisplay" [(ngModel)]="selectedCity" optionLabel="name" placeholder="Select City"></p-dropdown>
      </div>
    </div>
  </div>

  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-1">
      <div class="ui-inputgroup">
        <button pButton type="button" label="Fetch" (click)="fetchPatientByInfo()"></button>
      </div>
    </div>
    <div class="ui-g-12 ui-md-1">
      <div class="ui-inputgroup">
        <button pButton type="button" label="Save" (click)="savePatient()"></button>
      </div>
    </div>
  </div>

  <p-table [value]="patientList" *ngIf="patientList.length">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>SurName</th>
        <th>DOB</th>
        <th>Gender</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-patient>
      <tr>
        <td>{{patient.name}}</td>
        <td>{{patient.surName}}</td>
        <td>{{patient.dob | date:'fullDate'}}</td>
        <td>{{patient.gender}}</td>
      </tr>
    </ng-template>
  </p-table>
</div>